<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org" />

  <title>html test</title>
</script>
  <script type="text/javascript">
//<![CDATA[

  function genWord() {
      var i, length, s;
      length = 2+0|(Math.random() * 8);
      s = "";
      for(i=0;i<length;++i) {
          s += String.fromCharCode(97+(0|(Math.random()*25)));
      }
      return s;
  }

  function nextText() {
    var length, i, s;
    length = 5+0|(Math.random() * 50);
    s = "";
    for(i=0;i<length;++i) {
        s += genWord() + " ";
    }
    return s;
  }

  function height(dom) {
    return document.defaultView.getComputedStyle(dom, "").getPropertyValue("height");
  }
  function gId(id) {
    return document.getElementById(id);
  }

  function slidein() {
    window.scroll(0,0);
    var current = gId("current");
    var prev = gId("prev");
    var next = gId("next");
    gId("container").style.height = height(next);
    prev.removeAttribute("id");
    current.setAttribute("id", "prev");
    next.setAttribute("id", "current");
    current.style.top = "-" + height(next);
    prev.style.display = "none"
  }

  function main() {
    next = document.createElement("div");
    next.setAttribute("id", "next");
    next.appendChild(document.createTextNode(nextText()));
    gId("container").insertBefore(next, gId("current"));
    var current = gId("current");
    current.style.top = "-" + height(next);
    setTimeout("slidein()", 0);
  }

  function init() {
    //gId("current").style.top = "-" + height(gId("prev"));
    //jconsole.log("prev-top: " + xui("prev").getStyle("top"));
    //console.log("height...: " + document.defaultView.getComputedStyle(document.getElementById("prev"), "").getPropertyValue("height"));
    //xui("next").setStyle("top", "-" + xui("current").getStyle("height"));
  }

  //]]>
  </script>
  <style>
    body { margin: 0; padding: 0; }
    .bar {
        background: -webkit-gradient(linear, left top, left bottom, from(#ccf), to(#aac));
        background: -moz-linear-gradient(top,  #cdf,  #79c);
        border-style: groove;
        border-color: #eee;
        border-width: 0px 0px 2px 0px;
        padding: 4px;
        height: 32px;
    }
    #container { 
        position: relative;
        left: 100px;
        background-color: #ccc; 
        width: 200px;
        overflow: hidden; 
        -webkit-transition: height 0.5s ease-in-out;
        -moz-transition: height 0.5s ease-in-out;
        -o-transition: height 0.5s ease-in-out;
        transition: height 0.5s ease-in-out;
    }
    #prev { 
        position: relative;
        left: -200px;
        width: 200px;
        //background-color: #ff0; 
        -webkit-transition: left 0.5s ease-in-out;
        -moz-transition: left 0.5s ease-in-out;
        -o-transition: left 0.5s ease-in-out;
        transition: left 0.5s ease-in-out;
    }
    #current { 
        position: relative;
        left: 0px;
        width: 200px;
        //background-color: #f00; 
        -webkit-transition: left 0.5s ease-in-out;
        -moz-transition: left 0.5s ease-in-out;
        -o-transition: left 0.5s ease-in-out;
        transition: left 0.5s ease-in-out;
    }
    #next { 
        position: relative;
        left: 200px;
        width: 200px;
        //background-color: #0f0; 
        -webkit-transition: left 0.5s ease-in-out;
        -moz-transition: left 0.5s ease-in-out;
        -o-transition: left 0.5s ease-in-out;
        transition: left 0.5s ease-in-out;
    }
  </style>
</head>

<body onload="init()" onclick="main()">
  <div id="container">
    <div id="current">
    <div class="bar">
       bar
    </div>
    ...
    </div>
    <div id="prev">
    </div>
  </div>
</body>
</html>
